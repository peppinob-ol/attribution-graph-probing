<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="1400" height="1000" fill="#f8f9fa"/>
    <rect x="20" y="20" width="1360" height="960" fill="white" stroke="#dee2e6" stroke-width="2" rx="12"/>
    
    <!-- Title -->
    <text x="700" y="55" text-anchor="middle" fill="#495057" font-family="Arial, sans-serif" font-size="20" font-weight="bold">
        Layered Expansion: Coherent Semantic Growth Across Transformer Computation
    </text>
    
    <!-- Subtitle -->
    <text x="700" y="80" text-anchor="middle" fill="#6c757d" font-family="Arial, sans-serif" font-size="14">
        Real-time visualization of supernode expansion maintaining semantic coherence through computational layers
    </text>
    
    <!-- Layer structure (vertical representation of transformer layers) -->
    <g transform="translate(100, 120)">
        
        <!-- Layer background stripes -->
        <!-- Early layers (L0-7) -->
        <rect x="0" y="0" width="1200" height="200" fill="#e8f5e8" stroke="#4caf50" stroke-width="1" opacity="0.3"/>
        <text x="10" y="95" fill="#2e7d32" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
            Early Processing
        </text>
        <text x="10" y="115" fill="#388e3c" font-family="Arial, sans-serif" font-size="12">
            Layers 0-7
        </text>
        
        <!-- Middle layers (L8-15) -->
        <rect x="0" y="200" width="1200" height="200" fill="#e3f2fd" stroke="#2196f3" stroke-width="1" opacity="0.3"/>
        <text x="10" y="295" fill="#0d47a1" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
            Integration Zone
        </text>
        <text x="10" y="315" fill="#1565c0" font-family="Arial, sans-serif" font-size="12">
            Layers 8-15
        </text>
        
        <!-- Late layers (L16-25) -->
        <rect x="0" y="400" width="1200" height="250" fill="#fff3e0" stroke="#ff9800" stroke-width="1" opacity="0.3"/>
        <text x="10" y="520" fill="#e65100" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
            Late Processing
        </text>
        <text x="10" y="540" fill="#f57c00" font-family="Arial, sans-serif" font-size="12">
            Layers 16-25
        </text>
        
        <!-- Individual layer demarcations -->
        <g stroke="#ccc" stroke-width="1" opacity="0.5">
            <!-- Early layers -->
            <line x1="150" y1="0" x2="150" y2="200"/>
            <text x="155" y="15" fill="#666" font-family="Arial, sans-serif" font-size="10">L0</text>
            <line x1="225" y1="0" x2="225" y2="200"/>
            <text x="230" y="15" fill="#666" font-family="Arial, sans-serif" font-size="10">L2</text>
            <line x1="300" y1="0" x2="300" y2="200"/>
            <text x="305" y="15" fill="#666" font-family="Arial, sans-serif" font-size="10">L4</text>
            <line x1="375" y1="0" x2="375" y2="200"/>
            <text x="380" y="15" fill="#666" font-family="Arial, sans-serif" font-size="10">L6</text>
            
            <!-- Middle layers -->
            <line x1="450" y1="200" x2="450" y2="400"/>
            <text x="455" y="215" fill="#666" font-family="Arial, sans-serif" font-size="10">L8</text>
            <line x1="525" y1="200" x2="525" y2="400"/>
            <text x="530" y="215" fill="#666" font-family="Arial, sans-serif" font-size="10">L10</text>
            <line x1="600" y1="200" x2="600" y2="400"/>
            <text x="605" y="215" fill="#666" font-family="Arial, sans-serif" font-size="10">L12</text>
            <line x1="675" y1="200" x2="675" y2="400"/>
            <text x="680" y="215" fill="#666" font-family="Arial, sans-serif" font-size="10">L14</text>
            
            <!-- Late layers -->
            <line x1="750" y1="400" x2="750" y2="650"/>
            <text x="755" y="415" fill="#666" font-family="Arial, sans-serif" font-size="10">L16</text>
            <line x1="850" y1="400" x2="850" y2="650"/>
            <text x="855" y="415" fill="#666" font-family="Arial, sans-serif" font-size="10">L20</text>
            <line x1="950" y1="400" x2="950" y2="650"/>
            <text x="955" y="415" fill="#666" font-family="Arial, sans-serif" font-size="10">L24</text>
        </g>
        
        <!-- SN_1: Cross-layer expansion (L0-7) -->
        <g class="supernode-expansion" opacity="0.9">
            <!-- Seed layer 5 -->
            <circle cx="337" cy="125" r="8" fill="#e91e63" stroke="#ad1457" stroke-width="2"/>
            <text x="347" y="130" fill="#ad1457" font-family="Arial, sans-serif" font-size="10" font-weight="bold">SEED L5</text>
            
            <!-- Expansion pattern showing growth through layers -->
            <!-- Layer 0 -->
            <circle cx="150" cy="75" r="6" fill="#f48fb1" stroke="#e91e63" stroke-width="1"/>
            <line x1="337" y1="125" x2="150" y2="75" stroke="#e91e63" stroke-width="2" opacity="0.7"/>
            
            <!-- Layer 4 -->
            <circle cx="300" cy="100" r="6" fill="#f48fb1" stroke="#e91e63" stroke-width="1"/>
            <line x1="337" y1="125" x2="300" y2="100" stroke="#e91e63" stroke-width="2" opacity="0.7"/>
            
            <!-- Layer 6 -->
            <circle cx="375" cy="150" r="6" fill="#f48fb1" stroke="#e91e63" stroke-width="1"/>
            <line x1="337" y1="125" x2="375" y2="150" stroke="#e91e63" stroke-width="2" opacity="0.7"/>
            
            <!-- Layer 7 -->
            <circle cx="412" cy="175" r="6" fill="#f48fb1" stroke="#e91e63" stroke-width="1"/>
            <line x1="337" y1="125" x2="412" y2="175" stroke="#e91e63" stroke-width="2" opacity="0.7"/>
            
            <!-- Coherence indicator -->
            <rect x="420" y="50" width="140" height="60" fill="#fce4ec" stroke="#e91e63" stroke-width="2" rx="4"/>
            <text x="490" y="70" text-anchor="middle" fill="#ad1457" font-family="Arial, sans-serif" font-size="11" font-weight="bold">
                SN_1
            </text>
            <text x="490" y="85" text-anchor="middle" fill="#c2185b" font-family="Arial, sans-serif" font-size="10">
                Coherence: 1.0 → 0.742
            </text>
            <text x="490" y="100" text-anchor="middle" fill="#c2185b" font-family="Arial, sans-serif" font-size="10">
                Span: L0-7 (8 layers)
            </text>
        </g>
        
        <!-- SN_2: Concentrated expansion (L9-10) -->
        <g class="supernode-expansion" opacity="0.9">
            <!-- Seed layer 10 -->
            <circle cx="525" cy="300" r="8" fill="#2196f3" stroke="#0d47a1" stroke-width="2"/>
            <text x="535" y="305" fill="#0d47a1" font-family="Arial, sans-serif" font-size="10" font-weight="bold">SEED L10</text>
            
            <!-- Expansion pattern - more concentrated -->
            <!-- Layer 9 -->
            <circle cx="487" cy="275" r="6" fill="#90caf9" stroke="#2196f3" stroke-width="1"/>
            <line x1="525" y1="300" x2="487" y2="275" stroke="#2196f3" stroke-width="2" opacity="0.7"/>
            
            <!-- Additional L10 nodes -->
            <circle cx="500" cy="325" r="5" fill="#90caf9" stroke="#2196f3" stroke-width="1"/>
            <circle cx="550" cy="325" r="5" fill="#90caf9" stroke="#2196f3" stroke-width="1"/>
            <line x1="525" y1="300" x2="500" y2="325" stroke="#2196f3" stroke-width="2" opacity="0.7"/>
            <line x1="525" y1="300" x2="550" y2="325" stroke="#2196f3" stroke-width="2" opacity="0.7"/>
            
            <!-- Coherence indicator -->
            <rect x="580" y="250" width="140" height="60" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" rx="4"/>
            <text x="650" y="270" text-anchor="middle" fill="#0d47a1" font-family="Arial, sans-serif" font-size="11" font-weight="bold">
                SN_2
            </text>
            <text x="650" y="285" text-anchor="middle" fill="#1565c0" font-family="Arial, sans-serif" font-size="10">
                Coherence: 1.0 → 0.966
            </text>
            <text x="650" y="300" text-anchor="middle" fill="#1565c0" font-family="Arial, sans-serif" font-size="10">
                Span: L9-10 (2 layers)
            </text>
        </g>
        
        <!-- SN_4: Late expansion (L22-25) -->
        <g class="supernode-expansion" opacity="0.9">
            <!-- Seed layer 23 -->
            <circle cx="925" cy="575" r="8" fill="#4caf50" stroke="#2e7d32" stroke-width="2"/>
            <text x="935" y="580" fill="#2e7d32" font-family="Arial, sans-serif" font-size="10" font-weight="bold">SEED L23</text>
            
            <!-- Expansion pattern -->
            <!-- Layer 22 -->
            <circle cx="887" cy="550" r="6" fill="#a5d6a7" stroke="#4caf50" stroke-width="1"/>
            <line x1="925" y1="575" x2="887" y2="550" stroke="#4caf50" stroke-width="2" opacity="0.7"/>
            
            <!-- Layer 24 -->
            <circle cx="950" cy="600" r="6" fill="#a5d6a7" stroke="#4caf50" stroke-width="1"/>
            <line x1="925" y1="575" x2="950" y2="600" stroke="#4caf50" stroke-width="2" opacity="0.7"/>
            
            <!-- Layer 25 -->
            <circle cx="975" cy="625" r="6" fill="#a5d6a7" stroke="#4caf50" stroke-width="1"/>
            <line x1="925" y1="575" x2="975" y2="625" stroke="#4caf50" stroke-width="2" opacity="0.7"/>
            
            <!-- Coherence indicator -->
            <rect x="1000" y="520" width="140" height="60" fill="#e8f5e8" stroke="#4caf50" stroke-width="2" rx="4"/>
            <text x="1070" y="540" text-anchor="middle" fill="#2e7d32" font-family="Arial, sans-serif" font-size="11" font-weight="bold">
                SN_4
            </text>
            <text x="1070" y="555" text-anchor="middle" fill="#388e3c" font-family="Arial, sans-serif" font-size="10">
                Coherence: 1.0 → 0.560
            </text>
            <text x="1070" y="570" text-anchor="middle" fill="#388e3c" font-family="Arial, sans-serif" font-size="10">
                Span: L22-25 (4 layers)
            </text>
        </g>
        
        <!-- Computational Scaffolds - smaller, layer-specific patterns -->
        <g class="computational-scaffolds" opacity="0.7">
            <!-- COMP_4: L0-2 <BOS> HIGH -->
            <rect x="150" y="30" width="100" height="40" fill="#ffcc80" stroke="#ff9800" stroke-width="2" rx="4"/>
            <text x="200" y="45" text-anchor="middle" fill="#e65100" font-family="Arial, sans-serif" font-size="9" font-weight="bold">
                COMP_4
            </text>
            <text x="200" y="58" text-anchor="middle" fill="#f57c00" font-family="Arial, sans-serif" font-size="8">
                &lt;BOS&gt; L0-2
            </text>
            <text x="200" y="68" text-anchor="middle" fill="#f57c00" font-family="Arial, sans-serif" font-size="8">
                High consistency
            </text>
            
            <!-- COMP_5: L3-5 <BOS> HIGH -->
            <rect x="275" y="80" width="100" height="40" fill="#ffcc80" stroke="#ff9800" stroke-width="2" rx="4"/>
            <text x="325" y="95" text-anchor="middle" fill="#e65100" font-family="Arial, sans-serif" font-size="9" font-weight="bold">
                COMP_5
            </text>
            <text x="325" y="108" text-anchor="middle" fill="#f57c00" font-family="Arial, sans-serif" font-size="8">
                &lt;BOS&gt; L3-5
            </text>
            <text x="325" y="118" text-anchor="middle" fill="#f57c00" font-family="Arial, sans-serif" font-size="8">
                Structural support
            </text>
        </g>
        
        <!-- Flow indicators showing coherent growth -->
        <g class="coherence-flow">
            <!-- Coherence maintenance arrows -->
            <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
                </marker>
            </defs>
            
            <!-- Flow from early to middle -->
            <path d="M 400 200 Q 450 220 500 240" fill="none" stroke="#9c27b0" stroke-width="3" opacity="0.6" marker-end="url(#arrowhead)"/>
            <text x="450" y="215" text-anchor="middle" fill="#6a1b9a" font-family="Arial, sans-serif" font-size="10" font-weight="bold">
                Coherent Transfer
            </text>
            
            <!-- Flow from middle to late -->
            <path d="M 600 400 Q 700 420 800 480" fill="none" stroke="#9c27b0" stroke-width="3" opacity="0.6" marker-end="url(#arrowhead)"/>
            <text x="700" y="435" text-anchor="middle" fill="#6a1b9a" font-family="Arial, sans-serif" font-size="10" font-weight="bold">
                Semantic Continuity
            </text>
        </g>
        
    </g>
    
    <!-- Expansion Analysis Panel -->
    <g transform="translate(100, 780)">
        <rect x="0" y="0" width="1200" height="150" fill="#f1f8e9" stroke="#558b2f" stroke-width="2" rx="8"/>
        
        <text x="600" y="30" text-anchor="middle" fill="#33691e" font-family="Arial, sans-serif" font-size="16" font-weight="bold">
            Layered Expansion Analysis: Semantic Growth Patterns
        </text>
        
        <!-- Pattern Analysis -->
        <g transform="translate(50, 50)">
            
            <!-- Cross-Layer Pattern -->
            <rect x="0" y="0" width="350" height="80" fill="#fce4ec" stroke="#e91e63" stroke-width="2" rx="6"/>
            <text x="175" y="20" text-anchor="middle" fill="#ad1457" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
                Cross-Layer Expansion (SN_1)
            </text>
            <text x="15" y="40" fill="#c2185b" font-family="Arial, sans-serif" font-size="10">
                • Seed: L5 → Expands to L0-7 (8 layers)
            </text>
            <text x="15" y="55" fill="#c2185b" font-family="Arial, sans-serif" font-size="10">
                • Coherence: 1.0 → 0.742 (controlled degradation)
            </text>
            <text x="15" y="70" fill="#c2185b" font-family="Arial, sans-serif" font-size="10">
                • Strategy: Wide semantic coverage with stability
            </text>
            
            <!-- Concentrated Pattern -->
            <rect x="375" y="0" width="350" height="80" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" rx="6"/>
            <text x="550" y="20" text-anchor="middle" fill="#0d47a1" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
                Concentrated Expansion (SN_2)
            </text>
            <text x="390" y="40" fill="#1565c0" font-family="Arial, sans-serif" font-size="10">
                • Seed: L10 → Focused on L9-10 (2 layers)
            </text>
            <text x="390" y="55" fill="#1565c0" font-family="Arial, sans-serif" font-size="10">
                • Coherence: 1.0 → 0.966 (high stability)
            </text>
            <text x="390" y="70" fill="#1565c0" font-family="Arial, sans-serif" font-size="10">
                • Strategy: Deep semantic integration zone
            </text>
            
            <!-- Specialized Pattern -->
            <rect x="750" y="0" width="350" height="80" fill="#e8f5e8" stroke="#4caf50" stroke-width="2" rx="6"/>
            <text x="925" y="20" text-anchor="middle" fill="#2e7d32" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
                Specialized Expansion (SN_4)
            </text>
            <text x="765" y="40" fill="#388e3c" font-family="Arial, sans-serif" font-size="10">
                • Seed: L23 → Specialized L22-25 (4 layers)
            </text>
            <text x="765" y="55" fill="#388e3c" font-family="Arial, sans-serif" font-size="10">
                • Coherence: 1.0 → 0.560 (task-specific)
            </text>
            <text x="765" y="70" fill="#388e3c" font-family="Arial, sans-serif" font-size="10">
                • Strategy: Output processing specialization
            </text>
            
        </g>
    </g>
    
    <!-- Summary Statistics -->
    <rect x="1100" y="120" width="260" height="300" fill="#fff8e1" stroke="#fbc02d" stroke-width="2" rx="8"/>
    <text x="1230" y="150" text-anchor="middle" fill="#f57c00" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
        Expansion Metrics
    </text>
    
    <text x="1120" y="180" fill="#ef6c00" font-family="Arial, sans-serif" font-size="11">
        📊 Total Supernodes: 54
    </text>
    <text x="1120" y="200" fill="#ef6c00" font-family="Arial, sans-serif" font-size="11">
        🎯 Semantic Supernodes: 37
    </text>
    <text x="1120" y="220" fill="#ef6c00" font-family="Arial, sans-serif" font-size="11">
        ⚙️ Computational: 17
    </text>
    <text x="1120" y="240" fill="#ef6c00" font-family="Arial, sans-serif" font-size="11">
        🔗 Features Covered: 891
    </text>
    <text x="1120" y="260" fill="#ef6c00" font-family="Arial, sans-serif" font-size="11">
        📈 Quality Coverage: 83.7%
    </text>
    <text x="1120" y="280" fill="#ef6c00" font-family="Arial, sans-serif" font-size="11">
        ✅ Cross-prompt: 100%
    </text>
    <text x="1120" y="300" fill="#ef6c00" font-family="Arial, sans-serif" font-size="11">
        🧠 Avg Coherence: 0.842
    </text>
    
    <text x="1230" y="330" text-anchor="middle" fill="#e65100" font-family="Arial, sans-serif" font-size="12" font-weight="bold">
        Layer Distribution
    </text>
    <text x="1120" y="350" fill="#ef6c00" font-family="Arial, sans-serif" font-size="10">
        • Early (L0-7): Broad expansion
    </text>
    <text x="1120" y="365" fill="#ef6c00" font-family="Arial, sans-serif" font-size="10">
        • Middle (L8-15): High coherence
    </text>
    <text x="1120" y="380" fill="#ef6c00" font-family="Arial, sans-serif" font-size="10">
        • Late (L16-25): Specialization
    </text>
    <text x="1120" y="395" fill="#ef6c00" font-family="Arial, sans-serif" font-size="10">
        • Scaffolds: Structural support
    </text>
    <text x="1120" y="410" fill="#ef6c00" font-family="Arial, sans-serif" font-size="10">
        • Growth: 20 avg iterations
    </text>
    
</svg>
